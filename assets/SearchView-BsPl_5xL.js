import{r as b,A as x,z as c,B as y,c as u,a as m,b as t,C as q,D as v,E as g,j as d,I as w,t as S,G as $,p as i}from"./index-D-FKxjj8.js";import{_ as T,a as j}from"./ThePagination-CGnpOTEt.js";import"./TagBadge-CZpkRWOr.js";const B={class:"h-40 w-full bg-gradient-to-r from-base-100 via-base-200 to-base-100 md:h-60"},V={class:"m-auto flex h-full flex-col items-center justify-start gap-y-5 pt-12 text-center md:w-full md:max-w-none md:gap-y-8 md:pt-16"},M={class:"join-item relative flex items-center sm:max-w-none"},D=["innerHTML"],H=["disabled"],I={class:"whitespace-nowrap"},N={class:"text-2xl font-bold text-base-content/90 md:text-4xl"},k={__name:"TheSearchViewHeader",emits:["submit-query"],setup(p,{emit:n}){const s=n,e=b("");function a(){if(e.value.trim())return s("submit-query",e.value)}const r=x(),h=c(),f=y(()=>{let o;return r.query.q?r.query.q&&h.posts.length===0?o=`Nothing matched "${r.query.q}"`:o=r.query.q:o="Search",o.length>29?o.slice(0,28)+"...":o});return(o,l)=>(m(),u("div",B,[t("div",V,[t("form",{onSubmit:q(a,["prevent"]),role:"search",class:"join rounded-full border-base-content/20 has-[input:focus]:border"},[t("label",M,[v(t("input",{"onUpdate:modelValue":l[0]||(l[0]=_=>e.value=_),type:"search",name:"q",placeholder:"Search",class:"input w-56 rounded-s-full border border-base-content/20 pe-8 ps-4 text-lg md:input-lg focus:outline-none focus:ring-0 sm:w-64 md:w-80 md:pe-12 lg:w-96"},null,512),[[g,e.value]]),t("div",{innerHTML:d(w),class:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 opacity-50 *:top-1/2 *:h-4 *:w-4 md:*:h-5 md:*:w-5"},null,8,D)]),t("button",{type:"submit",class:"btn btn-info join-item btn-sm min-h-12 rounded-r-full sm:btn-md md:btn-lg",disabled:e.value.trim()===""}," Search ",8,H)],32),t("div",I,[t("h1",N,S(f.value),1)])])]))}},E={class:""},L={class:"container mx-auto flex flex-col items-center"},P={class:"container mx-auto flex flex-col items-center px-6"},A={__name:"SearchView",setup(p){const n=c();return $(async(s,e)=>{s.query.q!==e.query.q&&(await n.getPosts({search:s.query.q}),document.title=`#${s.params.slug}`)}),(s,e)=>(m(),u("div",E,[t("div",L,[i(k,{onSubmitQuery:e[0]||(e[0]=a=>s.$router.push({name:"blog-search",query:{q:a}}))}),t("div",P,[i(T,{posts:d(n).posts},null,8,["posts"]),i(j,{class:"my-5"})])])]))}};export{A as default};
